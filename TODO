
Makefile:
------------


Debugger:
------------

On-device service capabilities:

Client:

  * Ability to show local variables within stack frame.
    * 'regs' can show what register state *should be* within a non-top stack frame.
    * ... ability to read `.debug_frames` section and use to unwind registers.
    * need notion of "current frame" that can be adjusted rather than just as immediate arg
      to `frame` / `\f`
  * Ability to show type information for symbol.
  * Filter __dbg_service and __vector17 out of stack trace report and `frame` commands?


SAM D21 support: (See Cortex-M0+ Technical Reference Manual)
* Breakpoint unit support
* Watchpoint unit support
* Single-step support 
* ... cleaner backtrace via ARM-standard frame pointer record walking.


Current stats: 
     9660 data, 514 RAM
     9714 / 514 (wdt.h, reset)
     9826 / 514 (length byte and STACKREL)
     9880 / 514 (poke)
    12016 / 576 (stacktrace) <<*with instrumentation; 9998/534 without>>
    11750 / 546 (gpio; more selective stacktrace instrumentation; *10114/534)
    11838 / 552 (memory usage reporting; *10192/540)
    11838 / 552 *v1.0*
    12870 / 572 (with dual call stack) <-- Extra size is 18 bytes / fn o.h. of including call_site.
    12708 / 572 optimized instrumentation
    10124 / 520 *v2.0* - removed need for instrumentation to capture stack traces.


empty program:  3896 / 150
with dbg-gpio:  5564 / 173 (+1668)
dbg-memusage:   5618 / 179
optimized:      5566 / 159 (real stack walking, no more instrumentation)

Minimum debugger o.h. is 1670 flash, 9 sram bytes.

